<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head></head>
<body>

<div th:fragment="navbar">

    <nav class="navbar navbar-expand-lg bg-dark navbar-dark fixed-top">

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto col-12 justify-content-lg-around">

                <li class="nav-item" sec:authorize="hasRole('MODERATOR')">
                    <a class="nav-link" th:href="@{/pages/moderator}">Moderators</a>
                </li>
                <li class="nav-item" sec:authorize="hasRole('ADMIN')">
                    <a class="nav-link" th:href="@{/pages/admin}">Admins</a>
                </li>

                <th:block sec:authorize="isAuthenticated()">
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/pages/all}">All users</a>
                </li>
                <li class="nav-item">
                    <a class="disabled-link-mobile" th:text="#{navbar_add_home}" th:href="@{/homes/add}">Add Home</a>
                </li>
                <li class="nav-item">
                    <a class="disabled-link-mobile"
                       th:text="#{navbar_my_homes}"
                       th:href="@{/homes/{username}(username = ${#authentication.principal.username})}">My Homes</a>
                </li>
                <li class="nav-item">
                    <a class="disabled-link-mobile"
                       th:text="#{navbar_profile}"
                       th:href="@{/users/profile}">
                        <span class="visible-lg-inline-block">Profile</span>
                    </a>
                </li>
                <li class="nav-item">
                    <div class="form-inline my-2 my-lg-0 px-3">
                        <div class="text-white">Welcome,
                            <th:block sec:authentication="name"></th:block>
                            !
                        </div>
                        <form th:action="@{/users/logout}" th:method="post" th:text="#{navbar_logout}">
                            <input class="btn btn-link nav-link text-white" type="submit" value="Logout">
                        </form>
                    </div>
                </li>
                </th:block>


                <th:block sec:authorize="!isAuthenticated()">
                <li class="nav-item justify-content-lg-start">
                    <a class="nav-link" th:href="@{/}">H.E.</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link btn-primary text-white" th:text="#{navbar_register}" th:href="@{/users/register}">Register</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:text="#{navbar_login}" th:href="@{/users/login}">Login</a>
                </li>
                </th:block>

                <li class="nav-item">
                    <form th:method="get">
                        <label class="text-white" th:text="#{navbar.language}" for="lang"></label>
                        <select
                                onchange="this.form.submit()"
                                id="lang"
                                name="lang">
                            <option value="en_US" th:selected="${#locale.toString()} == 'en_US'">English</option>
                            <option value="bg_BG" th:selected="${#locale.toString()} == 'bg_BG'">Български</option>
                        </select>
                    </form>
                </li>

<!--                <li id="menu-profil" class="dropdown" data-url="/top-menu/topmenuprofile">-->
<!--                    <a class="dropdown-toggle disabled-link-mobile" th:href="@{/user/edit/username}">-->
<!--                        <div class="profile-image-container">-->
<!--                            <img width="35" height="35"-->
<!--                                 src="https://d2kzpkef14nfxb.cloudfront.net/images/website/icon_default_profile.jpg"-->
<!--                                 alt="Profile of Mariya">-->

<!--                            <span class="badge badge-menu badge-absolute badge-menu-profil" id="badge-profil"-->
<!--                                  style="display: block;" data-value="3"></span>-->
<!--                        </div>-->
<!--                        <span class="visible-lg-inline-block">My account</span>-->
<!--                        <i class="fa fa-angle-down down-arrow"></i>-->
<!--                    </a>-->

<!--                    <ul class="dropdown-menu scrollable-menu" role="menu" id="profil_elt"-->
<!--                        style="max-height: 674px; overflow-y: auto;">-->
<!--                        <li sec:authorize="isAuthenticated()">-->
<!--                            <a class="link-top-profile" ><i-->
<!--                                    class="icon-header-profile-profile"></i>-->
<!--                                <span class="link-title" th:href="@{/users/profile/{username}(username = ${#authentication.principal.username})}">My profile</span>-->
<!--                                <div class="top-menu-messages">-->
<!--                                    <p class="primary-strong">Complete your profile and earn 350 GuestPoints!</p>-->
<!--                                </div>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li id="top-menu-home-2253191" class="home-link">-->
<!--                            <a class="link-top-profile" th:href="@{/homes/{id}/update (id=*{id})}">-->
<!--                                <i class="icon-header-profile-home"></i>-->
<!--                                <span class="link-title top-name-address-bar">My home</span>-->
<!--                                <span class="pull-right view-all">Offline</span>-->
<!--                                <div class="top-menu-messages">-->
<!--                                    <p class="primary-strong">Publish your home!</p>-->
<!--                                </div>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->


            </ul>
        </div>
    </nav>

</div>

</body>
</html>